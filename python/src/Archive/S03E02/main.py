import asyncio
import json
import os
from vectorservice import VectorService
from openaiService import OpenAIService
from aidevs import Aidevs

vector_service = VectorService()
openai_service = OpenAIService()
aidevs = Aidevs()

file_path = "D:/Ignacy/Code/AI/Resources/pliki_z_fabryki/weapons_tests/do-not-share"

def convert_files():
    points = []
    for file in os.listdir(file_path):
        with open(os.path.join(file_path, file), "r") as f:
            content = f.read()
            
            points.append({
                "text": content,
                "metadata": {"file": file}
            })
    json_points = json.dumps(points)
    
    return points

#asyncio.run(vector_service.initialize_collection_with_data("test", convert_files()))

#print(asyncio.run(vector_service.search("test", "W którym raporcie znajduje się informacja o kradzieży prototypu broni?")))

answer_0 = '''
[ScoredPoint(id='466dd967-e0cb-4a96-becf-77cb114fbc8d', version=0, score=0.73077995, payload={'text': 'Prototyp podrÄ™cznego zakrzywiacza czasoprzestrzeni\n\nNiniejszy raport odnosi siÄ™ do incydentu zwiÄ…zanego z kradzieĹĽÄ… prototypu podrÄ™cznego zakrzywiacza czasoprzestrzeni, ktĂłry miaĹ‚ na celu umoĹĽliwienie skokĂłw w czasie. Z przeprowadzonych testĂłw wynika, ĹĽe urzÄ…dzenie dziaĹ‚aĹ‚o zgodnie z zaĹ‚oĹĽeniami, jednak jego efektywnie ograniczone byĹ‚y przez stabilnoĹ›Ä‡ zakrzywienia, co prowadziĹ‚o do nieprzewidywalnych konsekwencji w czasie i przestrzeni.\n\nUrzÄ…dzenie umoĹĽliwia dokonywanie krĂłtkich przeskokĂłw w czasie i przestrzeni, jednak jego stosunkowo duĹĽe zuĹĽycie energii wyklucza go z profesjonalnego zastosowania.\n\nWnioski wyciÄ…gniÄ™te z testĂłw wskazujÄ… na koniecznoĹ›Ä‡ dalszych prac nad poprawÄ… stabilnoĹ›ci oraz precyzji urzÄ…dzenia. Dodatkowo, incydent kradzieĹĽy ujawniĹ‚ powaĹĽne braki w procedurach zabezpieczajÄ…cych prototypy, co wymaga natychmiastowego przeglÄ…du obecnych zabezpieczeĹ„.\n\nPlany na przyszĹ‚oĹ›Ä‡ obejmujÄ… nie tylko prace nad poprawÄ… zakrzywiacza, ale takĹĽe wdroĹĽenie zaawansowanych systemĂłw zabezpieczeĹ„ oraz monitoringu w celu zapobiegania dalszym kradzieĹĽom i nieuprawnionemu dostÄ™powi do technologii. Wszelkie dziaĹ‚ania podejmowane bÄ™dÄ… z maksymalnym priorytetem w kontekĹ›cie zachowania poufnoĹ›ci i bezpieczeĹ„stwa danych.\n\nUrzÄ…dzenie zostaĹ‚o skradzione z laboratorium w nocy, 15 lutego. SprzÄ™tu do dziĹ› dnia nie udaĹ‚o siÄ™ odzyskaÄ‡. ByĹ‚ to jedyny dziaĹ‚ajÄ…cy prototyp urzÄ…dzenia tego typu.\n', 'file': '2024_02_21.txt'}, vector=None, shard_key=None, order_value=None), ScoredPoint(id='3763806e-7bd4-4521-8c37-03cddf05e086', version=0, score=0.55627686, payload={'text': 'BroĹ„Â\xa0pod kryptonimem "Plazmowy Korpus Zniszczenia"\n\nPodczas testĂłw Plazmowego Korpusu Zniszczenia, uzyskano wyniki przekraczajÄ…ce oczekiwania. ZasiÄ™g dziaĹ‚ania wynosiĹ‚ 300 metrĂłw, a moc wystrzaĹ‚u generowaĹ‚a temperaturÄ™ przekraczajÄ…cÄ… 5000 stopni Celsjusza, zdolnÄ… do przetopienia wiÄ™kszoĹ›ci znanych materiaĹ‚Ăłw. \n\nWnioski wskazujÄ…, ĹĽe uĹĽycie wspomnianej broni w otwartej przestrzeni, bez nadzoru, moĹĽe spowodowaÄ‡ potencjalnÄ… katastrofÄ™ ekologicznÄ…. Z tego powodu zaleca siÄ™ dalsze badania nad bezpieczeĹ„stwem operacyjnym oraz technologiÄ… redukcji emisji termalnej.\n\nPlany na przyszĹ‚oĹ›Ä‡ obejmujÄ… stworzenie podrÄ™cznego modelu broni oraz zaprojektowanie systemu zabezpieczeĹ„, ktĂłry ograniczy jej uĹĽycie tylko do okreĹ›lonych warunkĂłw bojowych. \n\n', 'file': '2024_01_29.txt'}, vector=None, shard_key=None, order_value=None), ScoredPoint(id='c8017631-c13e-49f6-8007-5655b2519fea', version=0, score=0.5457178, payload={'text': 'Elektromagnetyczny Impulsowy Zestrzeliwacz (EIZ).\n\nTesty wykazaĹ‚y, ĹĽe urzÄ…dzenie jest w stanie skutecznie zneutralizowaÄ‡ elektronikÄ™ w promieniu 100 metrĂłw, jednak jego zasiÄ™g jest ograniczony do jednorazowego uĹĽycia przed wymianÄ… energetycznÄ….\n\nWnioski z testĂłw sugerujÄ…, ĹĽe EIZ jest obiecujÄ…cÄ… broniÄ… w walce z grupami przestÄ™pczymi korzystajÄ…cymi z zaawansowanej technologii. JednakĹĽe, ze wzglÄ™du na spadajÄ…cÄ… efektywnoĹ›Ä‡ w dĹ‚uĹĽszej perspektywie, zaleca siÄ™ dalsze prace nad poprawÄ… sposobu zasilania urzÄ…dzenia.\n\nRoboty planujÄ… skoncentrowaÄ‡ siÄ™ na rozwiniÄ™ciu wersji EIZ, ktĂłra mogĹ‚aby byÄ‡ uĹĽywana wielokrotnie bez wymiany zasobĂłw energetycznych. Dodatkowo, bÄ™dÄ… badaÄ‡ moĹĽliwoĹ›Ä‡ zwiÄ™kszenia zasiÄ™gu impulsu, aby zyskaÄ‡ przewagÄ™ w otwartym terenie.\n', 'file': '2024_04_18.txt'}, vector=None, shard_key=None, order_value=None), ScoredPoint(id='b064a8d8-76e2-4dde-82ef-0f93ec184349', version=0, score=0.5425695, payload={'text': 'Mikrofalowy Pojmator - broĹ„ przeciwko dronom\n\nZbadano broĹ„ o nazwie "Mikrofalowy Pojmator", ktĂłra wykorzystuje wysokoczÄ™stotliwozne fale elektromagnetyczne do paraliĹĽowania systemĂłw elektronicznych w zasiÄ™gu 500 metrĂłw. Testy wykazaĹ‚y, ĹĽe broĹ„ jest skuteczna w neutralizowaniu dronĂłw oraz pojazdĂłw zdalnie sterowanych, ale jej dziaĹ‚ania mogÄ… zostaÄ‡ zakĹ‚Ăłcone przez silne ĹşrĂłdĹ‚a zakĹ‚ĂłceĹ„ radiowych.\n\nWyniki testĂłw sugerujÄ…, ĹĽe Mikrofalowy Pojmator moĹĽe byÄ‡ skuteczny w sytuacjach, gdzie wymagana jest eliminacja technologii wroga, jednak potrzebne sÄ… dalsze badania nad jego odpornoĹ›ciÄ… na zakĹ‚Ăłcenia. Roboty planujÄ… wprowadzenie poprawek do systemu stabilizacji, aby zwiÄ™kszyÄ‡ jego niezawodnoĹ›Ä‡ w trudnych warunkach walki.\n\nW przyszĹ‚ych testach przewiduje siÄ™ takĹĽe moĹĽliwoĹ›Ä‡ integracji broni z systemami obrony obiektĂłw, co zwiÄ™kszy jej uĹĽytecznoĹ›Ä‡ w kontekĹ›cie ochrony zasobĂłw strategicznych. Roboty zamierzajÄ… badaÄ‡ takĹĽe opcjÄ™ zmniejszenia rozmiarĂłw urzÄ…dzenia, co uczyniĹ‚oby je bardziej mobilnym i Ĺ‚atwiejszym w transporcie.\n', 'file': '2024_06_02.txt'}, vector=None, shard_key=None, order_value=None), ScoredPoint(id='e21b0b0e-8641-444f-9604-a1c6d051574a', version=0, score=0.5312064, payload={'text': 'Wysokotemperaturowy Pojemnik Kinetyczny (WPK)\n\nRaport z testĂłw Wysokotemperaturowego Pojemnika Kinetycznego wykazaĹ‚, ĹĽe konstrukcja pozwala na generowanie ekstremalnych temperatur przy jednoczesnym wydobywaniu masywnej energii kinetycznej. Podczas testĂłw osiÄ…gniÄ™to temperatury przekraczajÄ…ce 3000 stopni Celsjusza, co skutkowaĹ‚o efektywnym stopieniem materiaĹ‚Ăłw o wysokiej twardoĹ›ci, takich jak stal.\n\nWyniki testĂłw sugerujÄ…, ĹĽe WPK moĹĽe byÄ‡ uĹĽyty zarĂłwno do niszczenia wrogich pojazdĂłw, jak i do przeksztaĹ‚cania terenu w teren nieprzyjazny dla przeciwnika. Wnioski wskazujÄ… na potrzebÄ™ dalszego rozwijania pojemnika, aby poprawiÄ‡ jego trwaĹ‚oĹ›Ä‡ i efektywnoĹ›Ä‡ w zmiennych warunkach atmosferycznych.\n\nRoboty badawcze planujÄ… przeprowadziÄ‡ dodatkowe testy w ekstremalnych temperaturach oraz modyfikacje konstrukcji, aby zwiÄ™kszyÄ‡ portfel zastosowaĹ„ WPK w wojskowych operacjach postapokaliptycznych.\n', 'file': '2024_04_27.txt'}, vector=None, shard_key=None, order_value=None), ScoredPoint(id='c6337958-e802-414c-8a87-b6d22a4689bd', version=0, score=0.53113925, payload={'text': 'Nuklearna StrzaĹ‚a - raport z testĂłw.\n\nTestowano zaawansowany system o duĹĽym zasiÄ™gu, ktĂłrego gĹ‚Ăłwnym celem jest neutralizacja wrogich struktur za pomocÄ… kontrolowanej reakcji jÄ…drowej. Testy wykazaĹ‚y, ĹĽe Nuklearna StrzaĹ‚a potrafi precyzyjnie wywoĹ‚aÄ‡ lokalne eksplozje o ograniczonym promieniu, zarĂłwno eliminujÄ…c cele, jak i minimalizujÄ…c szkody w otoczeniu.\n\nZ wynikĂłw testĂłw wynika, ĹĽe system dziaĹ‚a z niebywaĹ‚Ä… skutecznoĹ›ciÄ…, ale istniejÄ… obawy co do stabilnoĹ›ci i moĹĽliwoĹ›ci niezamierzonego wybuchu. Dodatkowo, wykryto, ĹĽe zasiÄ™g broni jest ograniczony przez warunki atmosferyczne, co moĹĽe wpĹ‚ywaÄ‡ na jej efektywnoĹ›Ä‡ w terenie.\n\nW zwiÄ…zku z tym, roboty planujÄ… dalsze badania nad stabilizacjÄ… reakcji oraz optymalizacjÄ… algorytmu kierowania. Dalsze testy majÄ… na celu zwiÄ™kszenie zasiÄ™gu i dokĹ‚adnoĹ›ci Nuklearnej StrzaĹ‚y, aby uczyniÄ‡ jÄ… skuteczniejszÄ… i bardziej niezawodnÄ… w warunkach postapokaliptycznych.\n', 'file': '2024_05_14.txt'}, vector=None, shard_key=None, order_value=None), ScoredPoint(id='aa4329a8-0cc6-4224-bc07-f94da4437a41', version=0, score=0.5301995, payload={'text': 'Przeprowadzono badania nad broniÄ… "Mikroskalowy Wyzwalacz Plazmowy" (MWP).\nTesty wykazaĹ‚y, ĹĽe MWP jest zdolny do generowania plazmy o temperaturze przekraczajÄ…cej 10000 stopni Celsjusza, co pozwala na skuteczne przeksztaĹ‚canie celu w popiĂłĹ‚ w zaledwie kilka sekund. \n\nWyniki doĹ›wiadczeĹ„ wskazujÄ… na wysokÄ… nieskutecznoĹ›Ä‡ broni na dystansie wiÄ™kszym niĹĽ 500 metrĂłw ze wzglÄ™du na rozprzestrzenianie siÄ™ plazmy oraz niestabilnoĹ›Ä‡ Ĺ‚adunku wybuchowego. \n\nKonieczne jest opracowanie systemu stabilizacji dla niskoprofilowych celĂłw oraz wzmacnianie osĹ‚ony energetycznej, by broĹ„ tak czÄ™sto nie uszkadzaĹ‚a siÄ™ podczas eksplozji.\n\nRoboty badawcze planujÄ… rĂłwnieĹĽ stworzenie prototypu zmechanizowanego Ĺ‚adunku, ktĂłry umoĹĽliwiĹ‚by dokĹ‚adniejsze celowanie oraz dostosowanie parametrĂłw plazmy do konkretnych warunkĂłw terenowych.\n', 'file': '2024_01_08.txt'}, vector=None, shard_key=None, order_value=None), ScoredPoint(id='1e225ea4-9c79-479e-99fc-84031353795c', version=0, score=0.52405113, payload={'text': 'Ravager - testy, badania i wnioski\n\nBroĹ„ zaawansowana o nazwie "Ravager" to podziemny miotacz fal sejsmicznych, ktĂłry generuje drgania majÄ…ce zdolnoĹ›Ä‡ niszczenia infrastruktury oraz destabilizowania struktury terenu. Testy wykazaĹ‚y, ĹĽe "Ravager" moĹĽe powodowaÄ‡ wstrzÄ…sy o sile 6.0 w skali Richter na odlegĹ‚oĹ›Ä‡ do 500 metrĂłw, wywoĹ‚ujÄ…c katastrofalne zniszczenia w obrÄ™bie miasta.\n\nWnioski z testĂłw wskazujÄ…, ĹĽe skutecznoĹ›Ä‡ broni moĹĽe byÄ‡ znaczÄ…co podniesiona przez synchronizacjÄ™ wstrzÄ…sĂłw z falami sejsmicznymi, co dodatkowo potÄ™guje ich destrukcyjny efekt. Roboty badawcze planujÄ… przeprowadzenie dalszych eksperymentĂłw w terenie gĂłrzystym, gdzie naturalne struktury geologiczne bÄ™dÄ… mogĹ‚y wzmacniaÄ‡ dziaĹ‚anie "Ravagera".\n\nDodatkowo, rozwaĹĽajÄ… zastosowanie rĂłĹĽnych materiaĹ‚Ăłw do budowy miotacza, co potencjalnie zwiÄ™kszy jego wytrzymaĹ‚oĹ›Ä‡ oraz efektywnoĹ›Ä‡. W przyszĹ‚oĹ›ci prace skupiÄ… siÄ™ takĹĽe na integracji technologii maskujÄ…cych, aby broĹ„ mogĹ‚a dziaĹ‚aÄ‡ w ukryciu, minimalizujÄ…c ryzyko detekcji.\n', 'file': '2024_05_31.txt'}, vector=None, shard_key=None, order_value=None), ScoredPoint(id='91021c34-91c8-404a-b2b0-529656be38a9', version=0, score=0.52155674, payload={'text': 'Plazmowy Karabin DĹşwiÄ™kowy\n\nWyniki testĂłw wykazaĹ‚y, ĹĽe Plazmowy Karabin DĹşwiÄ™kowy generuje falÄ™ dĹşwiÄ™kowÄ… o wysokiej czÄ™stotliwoĹ›ci poĹ‚Ä…czonÄ… z plazmowym splotem energetycznym, co pozwala na precyzyjne raĹĽenie celĂłw na duĹĽych odlegĹ‚oĹ›ciach. W trakcie testĂłw zauwaĹĽono, ĹĽe broĹ„ jest niezwykle skuteczna przeciwko ciÄ™ĹĽkim pancerzom, ale ma problemy z przegrzewaniem siÄ™ przy dĹ‚uĹĽszym uĹĽytkowaniu.\n\nWnioski sugerujÄ…, ĹĽe aby zwiÄ™kszyÄ‡ efektywnoĹ›Ä‡ i trwaĹ‚oĹ›Ä‡ broni, konieczne jest opracowanie nowego systemu chĹ‚odzenia. Dodatkowo, w celu poprawy funkcjonalnoĹ›ci, rozwaĹĽane jest wprowadzenie trybu ognia ciÄ…gĹ‚ego oraz modyfikacji w celu zmniejszenia wagi samej jednostki.\n\nPlany na przyszĹ‚oĹ›Ä‡ obejmujÄ… przeprowadzenie zaawansowanych testĂłw w rĂłĹĽnych warunkach bojowych oraz badanie moĹĽliwoĹ›ci integracji z technologiÄ… sztucznej inteligencji w celu zwiÄ™kszenia precyzji wymiany ognia. Celem jest stworzenie modelu drugiej generacji, ktĂłry bÄ™dzie bardziej odporna na awarie w trudnym terenie.\n', 'file': '2024_05_08.txt'}, vector=None, shard_key=None, order_value=None), ScoredPoint(id='d12a64ed-78a2-41af-97ed-1ffe07fc8b50', version=0, score=0.5189667, payload={'text': 'Raport z testĂłw wstÄ™pnych dla "Cryo-Katana"\n\nBroĹ„ zostaĹ‚a poddana serii testĂłw majÄ…cych na celu ocenÄ™ jej skutecznoĹ›ci w warunkach zerowych temperatur. Wyniki wykazaĹ‚y, ĹĽe ostrze z nanomateriaĹ‚Ăłw potrafi schĹ‚odziÄ‡ przeciwnika do -30 stopni Celsjusza w czasie krĂłtszym niĹĽ jedna sekunda. ZasiÄ™g dziaĹ‚ania broni wynosi 2 metry. Analiza efektĂłw szokowych wykazaĹ‚a, ĹĽe ofiara doĹ›wiadcza nie tylko hipotermii, ale rĂłwnieĹĽ czasowego paraliĹĽu miÄ™Ĺ›niowego.\n\nWnioski z testĂłw wskazujÄ… na koniecznoĹ›Ä‡ dalszego doskonalenia systemu chĹ‚odzenia, aby zwiÄ™kszyÄ‡ efektywnoĹ›Ä‡ w trudnych warunkach atmosferycznych. Plany na przyszĹ‚oĹ›Ä‡ obejmujÄ… rĂłwnieĹĽ rozwĂłj modularnoĹ›ci broni, aby mogĹ‚a byÄ‡ stosowana w rĂłĹĽnych konfiguracjach.\n', 'file': '2024_01_27.txt'}, vector=None, shard_key=None, order_value=None)]
'''
date ='2024-02-21'

print(asyncio.run(aidevs.verify("wektory", date)))
